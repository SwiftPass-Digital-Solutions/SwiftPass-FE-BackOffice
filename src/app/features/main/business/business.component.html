<div class="w-full">

  <div class="flex items-center justify-between mb-6">
    <div class="flex items-center gap-3">
      <!-- menu icon (mobile only) -->
      <button class="sm:hidden p-2 rounded-xl bg-white shadow">
        <svg class="w-5 h-5 text-gray-700" viewBox="0 0 24 24" fill="none">
          <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <h1 class="text-2xl font-semibold text-gray-900">Business</h1>
    </div>
    <button class="p-2 rounded-xl bg-white shadow">
      <svg class="w-5 h-5 text-gray-700" viewBox="0 0 24 24" fill="none">
        <path d="M15 17h5l-1.4-1.4" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"
          stroke-linejoin="round" />
        <path d="M18 8a6 6 0 10-12 0v4l-2 2v1h16v-1l-2-2V8z" stroke="currentColor" stroke-width="1.2"
          stroke-linecap="round" stroke-linejoin="round" />
      </svg>
    </button>
  </div>


  <!-- ğŸ” Filters & Search -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6">
    <!-- Search -->
    <div class="flex items-center w-full sm:w-1/3 bg-white shadow-sm rounded-xl ring-1 ring-gray-200 px-3 py-2">
      <svg class="w-5 h-5 text-gray-500 mr-2" viewBox="0 0 24 24" fill="none">
        <path d="M21 21l-4.35-4.35M11 19a8 8 0 100-16 8 8 0 000 16z" stroke="currentColor" stroke-width="1.6"
          stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <input type="text" placeholder="Search customer's name or email"
        class="flex-1 outline-none bg-transparent text-sm text-gray-700 placeholder-gray-400"
        [(ngModel)]="searchTerm" />
    </div>

    <!-- Filters -->
    <div class="flex flex-wrap sm:flex-nowrap gap-3">
      <button
        class="px-4 py-2 bg-white rounded-xl shadow-sm ring-1 ring-gray-200 flex items-center justify-between w-full sm:w-auto">
        <span class="text-sm text-gray-700">Status</span>
        <svg class="w-4 h-4 text-gray-500 ml-2" viewBox="0 0 24 24" fill="none">
          <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <button
        class="px-4 py-2 bg-white rounded-xl shadow-sm ring-1 ring-gray-200 flex items-center justify-between w-full sm:w-auto">
        <span class="text-sm text-gray-700">Platform</span>
        <svg class="w-4 h-4 text-gray-500 ml-2" viewBox="0 0 24 24" fill="none">
          <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
    </div>
  </div>

  <!-- ğŸ’» Desktop Table View -->
  <div class="hidden md:block bg-white shadow-sm ring-1 ring-gray-200 rounded-2xl overflow-hidden">
    <table class="min-w-full text-sm text-gray-800 border-separate border-spacing-0">
      <thead>
        <tr class="bg-gray-50 text-gray-600 font-medium">
          <th class="px-6 py-3 text-left">Client</th>
          <th class="px-6 py-3 text-left">Status</th>
          <th class="px-6 py-3 text-left">Customers</th>
          <th class="px-6 py-3 text-left">Onboarded On</th>
          <th class="px-6 py-3"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let business of businesses" class="border-t border-gray-100 hover:bg-gray-50 transition-colors">
          <td class="px-6 py-3">
            <div class="font-medium">{{ business.businessName }}</div>
            <div class="text-gray-500 text-xs">{{ business.contactEmail }}</div>
          </td>
          <td class="px-6 py-3">
            <div class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" [ngClass]="{
                   'bg-green-50 text-green-700 ring-1 ring-green-100': business.status === 'Approved',
                   'bg-orange-50 text-orange-300 ring-1 ring-yellow-100': business.status === 'Awaiting Review' || business.status === 'Pending',
                   'bg-yellow-50 text-yellow-700 ring-1 ring-yellow-100': business.status === 'NotSubmitted',
                   'bg-red-50 text-red-700 ring-1 ring-red-100': business.status === 'Rejected'
                 }">
              <span class="w-2 h-2 rounded-full mr-2" [ngClass]="{
                      'bg-green-500': business.status === 'Approved',
                      'bg-orange-400': business.status === 'Awaiting Review' || business.status === 'Pending',
                      'bg-yellow-500': business.status === 'NotSubmitted',
                      'bg-red-500': business.status === 'Rejected'
                    }">
              </span>
              {{ business.status == 'Pending' ? 'Awaiting Review' : business.status }}
            </div>
          </td>
          <td class="px-6 py-3">{{ business.customerCount | number }}</td>
          <td class="px-6 py-3">{{ business.onboardedOn | date: 'MMM dd, yyyy' }}</td>
          <td class="px-6 py-3">
            <button (click)="goToDetails(business.businessId)"
              class="flex items-center gap-2 text-blue-600 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1.5 rounded-lg">
              <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none">
                <path d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z" stroke="currentColor" stroke-width="1.6"
                  stroke-linecap="round" stroke-linejoin="round" />
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
              View
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- ğŸ“± Mobile Card View -->
  <div class="block md:hidden">
    <div *ngFor="let business of businesses" (click)="goToDetails(business.businessId)"
      class="bg-white shadow-sm ring-1 ring-gray-200 rounded-2xl p-4 mb-4">
      <div class="flex justify-between items-center mb-3">
        <div>
          <h3 class="text-base font-semibold text-gray-900">{{ business.businessName }}</h3>
          <p class="text-sm text-gray-500">{{ business.contactEmail }}</p>
        </div>
        <div class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium" [ngClass]="{
            'bg-green-50 text-green-700 ring-1 ring-green-100': business.status === 'Approved',
            'bg-yellow-50 text-yellow-700 ring-1 ring-yellow-100': business.status === 'Awaiting Review' || business.status === 'Pending',
            'bg-red-50 text-red-700 ring-1 ring-red-100': business.status === 'Rejected'
          }">
          <span class="w-2 h-2 rounded-full mr-2" [ngClass]="{
              'bg-green-500': business.status === 'Approved',
              'bg-yellow-400': business.status === 'Awaiting Review' || business.status === 'Pending',
              'bg-red-500': business.status === 'Rejected'
            }"></span>
          {{ business.status }}
        </div>
      </div>

      <div class="text-sm text-gray-700 space-y-1">
        <p><span class="font-medium">Customers:</span> {{ business.customerCount | number }}</p>
        <p><span class="font-medium">Onboarded:</span> {{ business.onboardedOn | date: 'MMM dd, yyyy' }}</p>
      </div>

      <div class="mt-3 text-right">
        <button
          class="inline-flex items-center gap-2 text-blue-600 text-sm font-medium bg-blue-50 hover:bg-blue-100 px-3 py-1.5 rounded-lg">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none">
            <path d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12z" stroke="currentColor" stroke-width="1.6"
              stroke-linecap="round" stroke-linejoin="round" />
            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
          View
        </button>
      </div>
    </div>
  </div>

  <!-- ğŸ§­ Pagination -->
  <div class="flex items-center justify-center mt-6 gap-2">
    <button
      class="w-10 h-10 flex items-center justify-center bg-white ring-1 ring-gray-200 rounded-xl shadow-sm hover:bg-gray-50">
      <svg class="w-5 h-5 text-gray-600" viewBox="0 0 24 24" fill="none">
        <path d="M15 19l-7-7 7-7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>

    <ng-container *ngFor="let p of pageList">
      <button *ngIf="p != '...'" class="w-10 h-10 flex items-center justify-center rounded-xl text-sm font-medium"
        [ngClass]="p === currentPage ? 'bg-blue-600 text-white shadow' : 'bg-white ring-1 ring-gray-200 text-gray-700 hover:bg-gray-50'"
        (click)="goToPage(p)">
        {{ p }}
      </button>
      <div *ngIf="p === '...'" class="w-8 text-center text-gray-400">â€¦</div>
    </ng-container>

    <button
      class="w-10 h-10 flex items-center justify-center bg-white ring-1 ring-gray-200 rounded-xl shadow-sm hover:bg-gray-50">
      <svg class="w-5 h-5 text-gray-600" viewBox="0 0 24 24" fill="none">
        <path d="M9 5l7 7-7 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
  </div>
</div>
